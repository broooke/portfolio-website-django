{% extends 'main.html' %}
{% load crispy_forms_tags %}
{% block content %}
<style type="text/css">
	#div_id_tags, #id_tags{
		overflow-y: scroll;
		max-height: 100px;
		border-radius: 5px;
		padding: 5px;
		border:1px solid #888;
	}
</style>

<div class="container">
	<h1>Posts</h1>
	{% if request.user.is_staff %}
		<a class="btn btn-warning" href="{% url 'create_post' %}">Create Post</a>
		<br>
	{% endif %}
	<br>
	<form method="get">
		{{myFilter.form|crispy}}
		<input class="btn btn-primary" type="submit" value="Search">
	</form>

	<br>

	<div class="post-wrapper">
	{% for post in posts %}
	<div>
		<div class="post">
			<img class="thumbnail" src="{{post.get_image}}">
			<div class="post-preview">
				<h6 class="post-title">{{post.headline}}</h6>
				<p class="post-text">{{post.sub_headline}}</p>
				<a href="{% url 'post_detail' post.headline %}">Read More</a>

				{% if request.user.is_staff %}
					| <a href="{% url 'post_edit' post.headline %}">Edit</a>
					| <a href="">Delete</a>
				{% endif %}
				<hr>
				{% for tag in post.tags.all %}
					<span class="tag">{{tag}}</span>
				{% endfor %}
			</div>
		</div>
	</div>
	{% empty %}
		<h3>Posts not found...</h3>
	{% endfor %}
	</div>
</div>
{% endblock %}